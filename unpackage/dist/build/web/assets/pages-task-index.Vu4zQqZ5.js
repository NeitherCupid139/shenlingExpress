import{r as a,o as e,a as s,c as l,w as t,b as d,d as r,F as u,e as c,f as n,t as i,g as o,i as _,h as f,j as k,k as p,S as v,l as m,m as b,n as y,v as h,p as w}from"./index-BIIXmq18.js";import{t as g}from"./task.CsHE52dC.js";import{_ as x}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uni-fetch.BLhei1mW.js";const T=x({__name:"pickup",setup(m){const b=a([]);return e((async()=>{let a=await g.list();b.value=a.data.data.items})),(a,e)=>{const m=_,y=f,h=k,w=p,g=v;return s(),l(g,{"scroll-y":"","refresher-enabled":"",class:"scroll-view"},{default:t((()=>[d(y,{class:"scroll-view-wrapper"},{default:t((()=>[(s(!0),r(u,null,c(b.value,(a=>(s(),l(y,{class:"task-card",key:a.id},{default:t((()=>[d(h,{"hover-class":"none",url:"/subpkg_task/detail/index?id="+a.id},{default:t((()=>[d(y,{class:"header"},{default:t((()=>[d(m,{class:"no"},{default:t((()=>[n("任务编号: "+i(a.transportTaskId),1)])),_:2},1024)])),_:2},1024),d(y,{class:"body"},{default:t((()=>[d(y,{class:"timeline"},{default:t((()=>[d(y,{class:"line"},{default:t((()=>[n(i(a.startAddress),1)])),_:2},1024),d(y,{class:"line"},{default:t((()=>[n(i(a.endAddress),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["url"]),d(y,{class:"footer"},{default:t((()=>[d(y,{class:"label"},{default:t((()=>[n("提货时间")])),_:1}),d(y,{class:"time"},{default:t((()=>[n(i(a.planDepartureTime),1)])),_:2},1024),a.enablePickUp?(s(),l(h,{key:0,"hover-class":"none",url:"/subpkg_task/pickup/index?id="+a.id,class:"action"},{default:t((()=>[n("提货")])),_:2},1032,["url"])):o("",!0),a.enablePickUp?o("",!0):(s(),l(w,{key:1,"hover-class":"none",class:"action",disabled:!a.enablePickUp},{default:t((()=>[n(" 提货 ")])),_:2},1032,["disabled"]))])),_:2},1024)])),_:2},1024)))),128)),o("",!0)])),_:1})])),_:1})}}},[["__scopeId","data-v-39adb343"]]),I=x({__name:"delivery",setup(p){const m=a([]);return e((async()=>{let a=await g.list(2);m.value=a.data.data.items})),(a,e)=>{const p=_,b=f,y=k,h=v;return s(),l(h,{"scroll-y":"","refresher-enabled":"",class:"scroll-view"},{default:t((()=>[d(b,{class:"scroll-view-wrapper"},{default:t((()=>[(s(!0),r(u,null,c(m.value,(a=>(s(),l(b,{class:"task-card",key:a.id},{default:t((()=>[d(y,{"hover-class":"none",url:"/subpkg_task/detail/index?id="+a.id},{default:t((()=>[d(b,{class:"header"},{default:t((()=>[d(p,{class:"no"},{default:t((()=>[n("任务编号: "+i(a.transportTaskId),1)])),_:2},1024)])),_:2},1024),d(b,{class:"body"},{default:t((()=>[d(b,{class:"timeline"},{default:t((()=>[d(b,{class:"line"},{default:t((()=>[n(i(a.startAddress),1)])),_:2},1024),d(b,{class:"line"},{default:t((()=>[n(i(a.endAddress),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["url"]),d(b,{class:"footer"},{default:t((()=>[d(b,{class:"label"},{default:t((()=>[n("提货时间")])),_:1}),d(b,{class:"time"},{default:t((()=>[n(i(a.planDepartureTime),1)])),_:2},1024),2===a.status?(s(),l(y,{key:0,"hover-class":"none",url:"/subpkg_task/delivery/index?id="+a.id,class:"action"},{default:t((()=>[n(" 交付 ")])),_:2},1032,["url"])):o("",!0),4===a.status?(s(),l(y,{key:1,"hover-class":"none",url:`/subpkg_task/record/index?transportTaskId=${a.transportTaskId}&actualDepartureTime=${a.actualDepartureTime}`,class:"action"},{default:t((()=>[n("回车登记")])),_:2},1032,["url"])):o("",!0)])),_:2},1024)])),_:2},1024)))),128)),o("",!0)])),_:1})])),_:1})}}},[["__scopeId","data-v-01bd93ea"]]),A=x({__name:"complete",setup(b){const y=a([]),h=a(""),w=a("");async function x(){if(!h.value||!w.value)return uni.utils.toast("开始和结束时间非空","error");let a=await g.list(6,1,50,h.value,w.value);y.value=a.data.data.items}function T(a){h.value=a.detail.value}function I(a){w.value=a.detail.value}return e((async()=>{let a=await g.list(6);y.value=a.data.data.items})),(a,e)=>{const b=m,g=_,A=p,j=f,C=k,D=v;return s(),r(u,null,[d(j,{class:"task-search"},{default:t((()=>[d(j,{class:"filter-bar"},{default:t((()=>[d(b,{class:"picker",mode:"date",onChange:T},{default:t((()=>[n(i(h.value),1)])),_:1}),d(g,{class:"text"},{default:t((()=>[n("至")])),_:1}),d(b,{class:"picker",mode:"date",onChange:I},{default:t((()=>[n(i(w.value),1)])),_:1}),d(A,{class:"button",onClick:x},{default:t((()=>[n("筛选")])),_:1})])),_:1})])),_:1}),d(D,{"scroll-y":"","refresher-enabled":"",class:"scroll-view"},{default:t((()=>[d(j,{class:"scroll-view-wrapper"},{default:t((()=>[y.value.length>0?(s(!0),r(u,{key:0},c(y.value,(a=>(s(),l(j,{key:a.id,class:"task-card"},{default:t((()=>[d(C,{"hover-class":"none",url:"/subpkg_task/detail/index?id="+a.id},{default:t((()=>[d(j,{class:"header"},{default:t((()=>[d(g,{class:"no"},{default:t((()=>[n("任务编号: "+i(a.transportTaskId),1)])),_:2},1024)])),_:2},1024),d(j,{class:"body"},{default:t((()=>[d(j,{class:"timeline"},{default:t((()=>[d(j,{class:"line"},{default:t((()=>[n(i(a.startAddress),1)])),_:2},1024),d(j,{class:"line"},{default:t((()=>[n(i(a.endAddress),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["url"]),d(j,{class:"footer flex"},{default:t((()=>[d(j,{class:"label"},{default:t((()=>[n("提货时间")])),_:1}),d(j,{class:"time"},{default:t((()=>[n(i(a.actualDepartureTime),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)):o("",!0),0==y.value.length?(s(),l(j,{key:1,class:"task-blank"},{default:t((()=>[n("无完成货物")])),_:1})):o("",!0)])),_:1})])),_:1})],64)}}},[["__scopeId","data-v-7d77e88c"]]),j=x({__name:"index",setup(e){const k=a(0),p=b([{title:"待提货",rendered:!0},{title:"在途",rendered:!1},{title:"已完成",rendered:!1}]);return(a,e)=>{const v=_,m=f;return s(),l(m,{class:"page-container"},{default:t((()=>[d(m,{class:"task-tabbar"},{default:t((()=>[(s(!0),r(u,null,c(p,((a,e)=>(s(),l(v,{key:a.title,onClick:a=>(a=>{p[a].rendered=!0,k.value=a})(e),class:w([{active:k.value===e},"tab"])},{default:t((()=>[n(i(a.title),1)])),_:2},1032,["onClick","class"])))),128))])),_:1}),p[0].rendered?y((s(),l(m,{key:0,class:"task-list"},{default:t((()=>[d(T)])),_:1},512)),[[h,0===k.value]]):o("",!0),p[1].rendered?y((s(),l(m,{key:1,class:"task-list"},{default:t((()=>[d(I)])),_:1},512)),[[h,1===k.value]]):o("",!0),p[2].rendered?y((s(),l(m,{key:2,class:"task-list"},{default:t((()=>[d(A)])),_:1},512)),[[h,2===k.value]]):o("",!0)])),_:1})}}},[["__scopeId","data-v-1fb5d57f"]]);export{j as default};
