import{r as e,u as a,q as l,c as t,w as s,h as u,a as o,f as r,t as i,b as n,x as d,s as c,i as p,l as m,C as v,k as f}from"./index-BIIXmq18.js";import{_,a as h}from"./uni-list.-t36oq1I.js";import{o as x,r as g}from"./uni-app.es.DHhZJsCJ.js";import{t as w}from"./task.CsHE52dC.js";import{_ as b}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uni-fetch.BLhei1mW.js";const y=b({__name:"index",setup(b){const y=e(0),j=e("");x((e=>{y.value=e.id,j.value=e.planDepartureTime}));let k=a((()=>{let[e,a]=j.value.split(" "),[l,t]=a.split(":");return`${l}:${t}`}));const T=e("");function $(e){let a=j.value.split(" ")[0];T.value=`${a} ${e.detail.value}`}const C=e("");async function V(){if(!T.value||!C.value)return uni.utils.toast("时间和理由不能为空","error");let e={id:y.value,delayTime:T.value,delayReason:C.value};await w.delay(e),uni.utils.toast("延迟提货成功","success"),c({url:"/pages/task/index"})}return(e,a)=>{const c=g(l("uni-list-item"),_),x=p,w=m,b=v,q=u,A=f,D=g(l("uni-list"),h);return o(),t(q,{class:"page-container"},{default:s((()=>[r(i(y.value)+" ",1),n(D,{border:!1},{default:s((()=>[n(c,{title:"原定时间 ",showArrow:"",rightText:j.value},null,8,["rightText"]),n(c,{title:"延迟时间",showArrow:""},{footer:s((()=>[n(w,{class:"time-picker",mode:"time",value:d(k),onChange:$},{default:s((()=>[n(x,null,{default:s((()=>[r(i(T.value?T.value+":00":"不可超过2个小时"),1)])),_:1})])),_:1},8,["value"])])),_:1}),n(c,{direction:"column"},{body:s((()=>[n(q,{class:"textarea-wrapper"},{default:s((()=>[n(b,{maxlength:"50",modelValue:C.value,"onUpdate:modelValue":a[0]||(a[0]=e=>C.value=e),class:"textarea","placeholder-style":"color: #818181",placeholder:"请输入延迟提货原因"},null,8,["modelValue"]),n(x,{class:"words-count"},{default:s((()=>[r(i(C.value.length)+"/50",1)])),_:1})])),_:1})])),_:1}),n(c,{border:!1},{body:s((()=>[n(A,{class:"button",onClick:V},{default:s((()=>[r("提交")])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-350b9c7d"]]);export{y as default};
