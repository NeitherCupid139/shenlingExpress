import{r as e,m as a,q as t,a as s,c as l,w as o,b as u,f as r,s as n,I as c,k as d,i,u as p,h as m,t as f,x as _}from"./index-BIIXmq18.js";import{_ as y,a as h}from"./uni-forms.CyZNF6r0.js";import{r as v}from"./uni-app.es.DHhZJsCJ.js";import{u as g,a as b}from"./uni-fetch.BLhei1mW.js";import{_ as x}from"./_plugin-vue_export-helper.BCo6x5W8.js";const k=x({__name:"account",setup(i){const p=e(),m=a({account:"ecut66",password:"123456"}),f=a({account:{rules:[{required:!0,errorMessage:"请输入登录账号"},{pattern:"^[a-zA-Z0-9]{6,8}$",errorMessage:"登录账号格式不正确"}]},password:{rules:[{required:!0,errorMessage:"请输入登录密码"},{pattern:"^\\d{6}$",errorMessage:"登录密码格式不正确"}]}});async function _(){try{const e=await p.value.validate();const a=(await g.post("/driver/login/account",e)).data.data;b().token=a,n({url:"/pages/task/index"})}catch(e){console.log("验证失败：",e)}}return(e,a)=>{const n=c,i=v(t("uni-forms-item"),y),g=d,b=v(t("uni-forms"),h);return s(),l(b,{class:"login-form",ref_key:"accountForm",ref:p,model:m,rules:f},{default:o((()=>[u(i,{name:"account"},{default:o((()=>[u(n,{type:"text",placeholder:"请输入账号",modelValue:m.account,"onUpdate:modelValue":a[0]||(a[0]=e=>m.account=e),class:"uni-input-input","placeholder-style":"color: #818181"},null,8,["modelValue"])])),_:1}),u(i,{name:"password"},{default:o((()=>[u(n,{type:"text",placeholder:"请输入密码",class:"uni-input-input",modelValue:m.password,"onUpdate:modelValue":a[1]||(a[1]=e=>m.password=e),"placeholder-style":"color: #818181"},null,8,["modelValue"])])),_:1}),u(g,{class:"submit-button",onClick:_},{default:o((()=>[r("登录")])),_:1})])),_:1},8,["model","rules"])}}},[["__scopeId","data-v-a85a7dd3"]]);const w=x({},[["render",function(e,a){const n=c,p=v(t("uni-forms-item"),y),m=i,f=d,_=v(t("uni-forms"),h);return s(),l(_,{class:"login-form",ref:"form"},{default:o((()=>[u(p,{name:"name"},{default:o((()=>[u(n,{type:"text",placeholder:"请输入手机号",class:"uni-input-input","placeholder-style":"color: #818181"})])),_:1}),u(p,{name:"name"},{default:o((()=>[u(n,{type:"text",placeholder:"请输入验证码",class:"uni-input-input","placeholder-style":"color: #818181"}),u(m,{class:"text-button"},{default:o((()=>[r("获取验证码")])),_:1})])),_:1}),u(f,{class:"submit-button"},{default:o((()=>[r("登录")])),_:1})])),_:1},512)}],["__scopeId","data-v-1486e8ad"]]),V=x({__name:"index",setup(t){const n=e(0),c=a([{title:"账号登录",subTitle:"手机号登陆"},{title:"手机号登录",subTitle:"账号登录"}]),d=p((()=>c[n.value]));function y(){n.value=Math.abs(n.value-1)}return(e,a)=>{const t=m,c=i;return s(),l(t,{class:"user-login"},{default:o((()=>[u(t,{class:"login-type"},{default:o((()=>[u(t,{class:"title"},{default:o((()=>[r(f(d.value.title),1)])),_:1}),u(t,{class:"type"},{default:o((()=>[u(c,{onClick:y},{default:o((()=>[r(f(d.value.subTitle),1)])),_:1}),u(c,{class:"iconfont icon-caret"})])),_:1})])),_:1}),0===n.value?(s(),l(_(k),{key:0})):(s(),l(_(w),{key:1}))])),_:1})}}},[["__scopeId","data-v-472bf11d"]]);export{V as default};
