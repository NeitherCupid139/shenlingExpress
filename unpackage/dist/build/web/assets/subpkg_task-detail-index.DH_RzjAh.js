import{r as l,c as a,w as e,h as s,a as t,b as u,f as c,t as i,d as r,e as d,F as n,g as f,i as o,I as _,j as p,S as v,y as m}from"./index-DI0kHqxQ.js";import{o as k}from"./uni-app.es.CFZfqoLj.js";import{t as b}from"./task.iY-xLkmz.js";import{_ as y}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uni-fetch.eH-J7x8f.js";const x=y({__name:"index",setup(y){const x=l({}),g=l(0);return k((async l=>{g.value=l.id;let a=await b.detail(l.id);x.value=a.data.data,console.log(a)})),(l,k)=>{const b=o,y=_,h=s,T=p,P=m,L=v;return t(),a(h,{class:"page-container"},{default:e((()=>[u(h,{class:"search-bar"},{default:e((()=>[u(b,{class:"iconfont icon-scan"}),u(y,{class:"input",type:"text",placeholder:"输入运单号"})])),_:1}),u(L,{"scroll-y":"",class:"task-detail"},{default:e((()=>[u(h,{class:"scroll-view-wrapper"},{default:e((()=>[u(h,{class:"basic-info panel"},{default:e((()=>[u(h,{class:"panel-title"},{default:e((()=>[c("基本信息")])),_:1}),u(h,{class:"timeline"},{default:e((()=>[u(h,{class:"line"},{default:e((()=>[c(i(x.value.startAddress),1)])),_:1}),u(h,{class:"line"},{default:e((()=>[c(i(x.value.endAddress),1)])),_:1}),u(T,{"hover-class":"none",url:"/subpkg_task/guide/index",class:"guide"},{default:e((()=>[u(b,{class:"iconfont icon-guide"}),u(b,null,{default:e((()=>[c("开始导航")])),_:1})])),_:1})])),_:1}),u(h,{class:"info-list"},{default:e((()=>[u(h,{class:"info-list-item"},{default:e((()=>[u(b,{class:"label"},{default:e((()=>[c("任务编号")])),_:1}),u(b,{class:"value"},{default:e((()=>[c(i(x.value.transportTaskId),1)])),_:1})])),_:1}),u(h,{class:"info-list-item"},{default:e((()=>[u(b,{class:"label"},{default:e((()=>[c("提货联系人")])),_:1}),u(b,{class:"value"},{default:e((()=>[c(i(x.value.startHandoverName),1)])),_:1})])),_:1}),u(h,{class:"info-list-item"},{default:e((()=>[u(b,{class:"label"},{default:e((()=>[c("联系电话")])),_:1}),u(b,{class:"value"},{default:e((()=>[c(i(x.value.startHandoverPhone),1)])),_:1})])),_:1}),u(h,{class:"info-list-item"},{default:e((()=>[u(b,{class:"label"},{default:e((()=>[c("预计提货时间")])),_:1}),u(b,{class:"value"},{default:e((()=>[c(i(x.value.planDepartureTime),1)])),_:1})])),_:1}),u(h,{class:"info-list-item"},{default:e((()=>[u(b,{class:"label"},{default:e((()=>[c("实际提货时间")])),_:1}),u(b,{class:"value"},{default:e((()=>[c(i(x.value.actualDepartureTime),1)])),_:1})])),_:1}),u(h,{class:"hr"}),u(h,{class:"info-list-item"},{default:e((()=>[u(b,{class:"label"},{default:e((()=>[c("交付联系人")])),_:1}),u(b,{class:"value"},{default:e((()=>[c(i(x.value.finishHandoverName),1)])),_:1})])),_:1}),u(h,{class:"info-list-item"},{default:e((()=>[u(b,{class:"label"},{default:e((()=>[c("联系电话")])),_:1}),u(b,{class:"value"},{default:e((()=>[c(i(x.value.finishHandoverPhone),1)])),_:1})])),_:1}),u(h,{class:"info-list-item"},{default:e((()=>[u(b,{class:"label"},{default:e((()=>[c("预计送达时间")])),_:1}),u(b,{class:"value"},{default:e((()=>[c(i(x.value.planArrivalTime),1)])),_:1})])),_:1}),u(h,{class:"info-list-item"},{default:e((()=>[u(b,{class:"label"},{default:e((()=>[c("实际送达时间")])),_:1}),u(b,{class:"value"},{default:e((()=>[c(i(x.value.actualArrivalTime),1)])),_:1})])),_:1})])),_:1})])),_:1}),x.value.exceptionList&&x.value.exceptionList.length>0?(t(),a(h,{key:0,class:"except-info panel"},{default:e((()=>[u(h,{class:"panel-title"},{default:e((()=>[c("异常信息")])),_:1}),(t(!0),r(n,null,d(x.value.exceptionList,(l=>(t(),a(h,{class:"info-list",key:l.exceptionTime},{default:e((()=>[u(h,{class:"info-list-item"},{default:e((()=>[u(b,{class:"label"},{default:e((()=>[c("上报时间")])),_:1}),u(b,{class:"value"},{default:e((()=>[c(i(l.exceptionTime),1)])),_:2},1024)])),_:2},1024),u(h,{class:"info-list-item"},{default:e((()=>[u(b,{class:"label"},{default:e((()=>[c("异常类型")])),_:1}),u(b,{class:"value"},{default:e((()=>[c(i(l.exceptionType),1)])),_:2},1024)])),_:2},1024),u(h,{class:"info-list-item"},{default:e((()=>[u(b,{class:"label"},{default:e((()=>[c("处理结果")])),_:1}),u(b,{class:"value"},{default:e((()=>[c(i(l.handleResult),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})):f("",!0),u(h,{class:"panel pickup-info"},{default:e((()=>[u(h,{class:"panel-title"},{default:e((()=>[c("提货信息")])),_:1}),u(h,{class:"label"},{default:e((()=>[c("提货凭证")])),_:1}),u(h,{class:"pictures"},{default:e((()=>[(t(!0),r(n,null,d(x.value.cargoPickUpPictureList,(l=>(t(),a(P,{key:l.url,class:"picture",src:l.url,mode:""},null,8,["src"])))),128)),x.value.cargoPickUpPictureList?f("",!0):(t(),a(h,{key:0,class:"picture-blank"},{default:e((()=>[c("暂无图片")])),_:1}))])),_:1}),u(h,{class:"label"},{default:e((()=>[c("货品照片")])),_:1}),u(h,{class:"pictures"},{default:e((()=>[(t(!0),r(n,null,d(x.value.cargoPictureList,(l=>(t(),a(P,{key:l.url,class:"picture",src:l.url,mode:""},null,8,["src"])))),128)),x.value.cargoPictureList?f("",!0):(t(),a(h,{key:0,class:"picture-blank"},{default:e((()=>[c("暂无图片")])),_:1}))])),_:1})])),_:1}),u(h,{class:"delivery-info panel"},{default:e((()=>[u(h,{class:"panel-title"},{default:e((()=>[c("交货信息")])),_:1}),u(h,{class:"label"},{default:e((()=>[c("交货凭证")])),_:1}),u(h,{class:"pictures"},{default:e((()=>[(t(!0),r(n,null,d(x.value.certificatePictureList,(l=>(t(),a(P,{key:l.url,class:"picture",src:l.url,mode:""},null,8,["src"])))),128)),x.value.certificatePictureList?f("",!0):(t(),a(h,{key:0,class:"picture-blank"},{default:e((()=>[c("暂无图片")])),_:1}))])),_:1}),u(h,{class:"label"},{default:e((()=>[c("货品照片")])),_:1}),u(h,{class:"pictures"},{default:e((()=>[(t(!0),r(n,null,d(x.value.deliverPictureList,(l=>(t(),a(P,{key:l.url,class:"picture",src:l.url,mode:""},null,8,["src"])))),128)),x.value.deliverPictureList?f("",!0):(t(),a(h,{key:0,class:"picture-blank"},{default:e((()=>[c("暂无图片")])),_:1}))])),_:1})])),_:1})])),_:1})])),_:1}),1===x.value.status?(t(),a(h,{key:0,class:"toolbar"},{default:e((()=>[u(T,{url:`/subpkg_task/delay/index?id=${x.value.id}&planDepartureTime=${x.value.planDepartureTime}`,"hover-class":"none",class:"button secondary"},{default:e((()=>[c("延迟提货")])),_:1},8,["url"]),u(T,{url:"/subpkg_task/pickup/index?id="+g.value,"hover-class":"none",class:"button primary"},{default:e((()=>[c("提货")])),_:1},8,["url"])])),_:1})):f("",!0),2===x.value.status?(t(),a(h,{key:1,class:"toolbar"},{default:e((()=>[u(T,{url:"/subpkg_task/except/index?transportTaskId="+x.value.transportTaskId,"hover-class":"none",class:"button secondary"},{default:e((()=>[c("异常上报 ")])),_:1},8,["url"]),u(T,{url:"/subpkg_task/delivery/index?id="+x.value.id,"hover-class":"none",class:"button primary"},{default:e((()=>[c("交付")])),_:1},8,["url"])])),_:1})):f("",!0),4===x.value.status?(t(),a(h,{key:2,class:"toolbar"},{default:e((()=>[u(T,{url:`/subpkg_task/record/index?transportTaskId=${x.value.transportTaskId}&actualDepartureTime=${x.value.actualDepartureTime}`,"hover-class":"none",class:"button primary block"},{default:e((()=>[c("回车登记")])),_:1},8,["url"])])),_:1})):f("",!0)])),_:1})}}},[["__scopeId","data-v-66b67403"]]);export{x as default};
