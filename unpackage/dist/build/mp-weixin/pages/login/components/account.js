"use strict";const e=require("../../../common/vendor.js"),s=require("../../../apis/uni-fetch.js"),o=require("../../../stores/users.js");if(!Array){(e.resolveComponent("uni-forms-item")+e.resolveComponent("uni-forms"))()}Math||((()=>"../../../uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.js")+(()=>"../../../uni_modules/uni-forms/components/uni-forms/uni-forms.js"))();const r={__name:"account",setup(r){const a=e.ref(),t=e.reactive({account:"ecut66",password:"123456"}),n=e.reactive({account:{rules:[{required:!0,errorMessage:"请输入登录账号"},{pattern:"^[a-zA-Z0-9]{6,8}$",errorMessage:"登录账号格式不正确"}]},password:{rules:[{required:!0,errorMessage:"请输入登录密码"},{pattern:"^\\d{6}$",errorMessage:"登录密码格式不正确"}]}});async function u(){try{const r=await a.value.validate();const t=(await s.uniFetch.post("/driver/login/account",r)).data.data;o.useUserStore().token=t,e.index.switchTab({url:"/pages/task/index"})}catch(r){console.log("验证失败：",r)}}return(s,o)=>({a:t.account,b:e.o((e=>t.account=e.detail.value)),c:e.p({name:"account"}),d:t.password,e:e.o((e=>t.password=e.detail.value)),f:e.p({name:"password"}),g:e.o(u),h:e.sr(a,"a85a7dd3-0",{k:"accountForm"}),i:e.p({model:t,rules:n})})}},a=e._export_sfc(r,[["__scopeId","data-v-a85a7dd3"]]);wx.createComponent(a);
