"use strict";const e=require("../../common/vendor.js"),t=require("../../apis/task.js");if(!Array){(e.resolveComponent("uni-list-item")+e.resolveComponent("uni-list"))()}Math||((()=>"../../uni_modules/uni-list/components/uni-list-item/uni-list-item.js")+(()=>"../../uni_modules/uni-list/components/uni-list/uni-list.js"))();const i={__name:"index",setup(i){const l=e.ref(0),s=e.ref("");e.onLoad((e=>{l.value=e.id,s.value=e.planDepartureTime}));let u=e.computed((()=>{let[e,t]=s.value.split(" "),[i,l]=t.split(":");return`${i}:${l}`}));const a=e.ref("");function n(e){let t=s.value.split(" ")[0];a.value=`${t} ${e.detail.value}`}const o=e.ref("");async function r(){if(!a.value||!o.value)return e.index.utils.toast("时间和理由不能为空","error");let i={id:l.value,delayTime:a.value,delayReason:o.value};await t.taskApi.delay(i),e.index.utils.toast("延迟提货成功","success"),e.index.switchTab({url:"/pages/task/index"})}return(t,i)=>({a:e.t(l.value),b:e.p({title:"原定时间 ",showArrow:!0,rightText:s.value}),c:e.t(a.value?a.value+":00":"不可超过2个小时"),d:e.unref(u),e:e.o(n),f:e.p({title:"延迟时间",showArrow:!0}),g:o.value,h:e.o((e=>o.value=e.detail.value)),i:e.t(o.value.length),j:e.p({direction:"column"}),k:e.o(r),l:e.p({border:!1}),m:e.p({border:!1})})}},l=e._export_sfc(i,[["__scopeId","data-v-350b9c7d"]]);wx.createPage(l);
